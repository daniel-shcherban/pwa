const c="pwa-cache-v1",n=[{"revision":"9241ea98191f3d2076bd5878df72509c","url":"index.html"},{"revision":null,"url":"assets/index-Dbk2VMCT.js"},{"revision":null,"url":"assets/index-COcDBgFa.css"},{"revision":"9f7a0f2ba8f061d60d0bbcbd7f7ce315","url":"apple-app-store.png"},{"revision":"8f1115b826013e8d0aaeec31a01ee66b","url":"manifest.webmanifest"}];self.addEventListener("install",t=>{console.log("Service Worker installing..."),t.waitUntil(caches.open(c).then(s=>{const e=n.map(l=>typeof l=="string"?l:l.url);return console.log("Caching assets:",e),s.addAll(e)}).then(()=>{console.log("All assets cached successfully"),self.skipWaiting()}).catch(s=>{console.error("Failed to cache assets:",s)}))});self.addEventListener("activate",t=>{console.log("Service Worker activating..."),t.waitUntil(caches.keys().then(s=>Promise.all(s.map(e=>{if(e!==c)return console.log("Deleting old cache:",e),caches.delete(e)}))).then(()=>{self.clients.claim()}))});self.addEventListener("fetch",t=>{t.request.method==="GET"&&t.respondWith(caches.match(t.request).then(s=>s?(console.log("Serving from cache:",t.request.url),s):(console.log("Fetching from network:",t.request.url),fetch(t.request).then(e=>{if(e&&e.status===200&&t.request.url.startsWith(self.location.origin)){const l=e.clone();caches.open(c).then(r=>{r.put(t.request,l)})}return e}).catch(e=>{if(console.error("Fetch failed:",e),t.request.mode==="navigate")return caches.match("/pwa/index.html").then(l=>l||new Response("Offline",{status:503,statusText:"Service Unavailable"}));throw e}))))});
